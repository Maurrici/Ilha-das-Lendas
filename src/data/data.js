const teams = [
    {
        id: 1,
        name: "Fluxo",
        shortName: "FX",
        img: "./team/fluxo.png",
        players: [
            {
                id: 1,
                name: "Rodrigo Panisa",
                nick: "Tay",
                role: "top",
                overallHistory: [65, 65, 63, 70]
            },
            {
                id: 2,
                name: "Pedro Cavalvante",
                nick: "Disamis",
                role: "jg",
                overallHistory: [75, 75, 73, 75]
            },
            {
                id: 3,
                name: "Bruno Ferreira",
                nick: "Hauz",
                role: "mid",
                overallHistory: [89, 89, 79, 78]
            },
            {
                id: 4,
                name: "Diego Amaral",
                nick: "Brance",
                role: "adc",
                overallHistory: [88, 88, 84, 82]
            },
            {
                id: 5,
                name: "Gabriel Dzelme",
                nick: "Jojo",
                role: "sup",
                overallHistory: [90, 90, 88, 85]
            },
        ]
    },
    {
        id: 2,
        name: "Furia",
        shortName: "FUR",
        img: "./team/furia.png",
        players: [
            {
                id: 6,
                name: "Natan Braz",
                nick: "Fnb",
                role: "top",
                overallHistory: [93, 93, 79, 82]
            },
            {
                id: 7,
                name: "Gabriel da Luz",
                nick: "Goot",
                role: "jg",
                overallHistory: [72, 72, 68, 71]
            },
            {
                id: 8,
                name: "Bruno Farias",
                nick: "Envy",
                role: "mid",
                overallHistory: [85, 85, 80, 85]
            },
            {
                id: 9,
                name: "Matheus Nóbrega",
                nick: "Trigo",
                role: "adc",
                overallHistory: [85, 85, 83, 87]
            },
            {
                id: 10,
                name: "Ygor Freitas",
                nick: "Redbert",
                role: "sup",
                overallHistory: [87, 87, 79, 84]
            },
        ]
    },
    {
        id: 3,
        name: "INTZ",
        shortName: "ITZ",
        img: "./team/intz.png",
        players: [
            {
                id: 11,
                name: "Kwen Hee Won",
                nick: "Zzk",
                role: "top",
                overallHistory: [60, 60, 66, 72]
            },
            {
                id: 12,
                name: "Yan Petermann",
                nick: "Yampi",
                role: "jg",
                overallHistory: [70, 70, 70, 70]
            },
            {
                id: 13,
                name: "Júlio Cezar Cruz",
                nick: "Nosferus",
                role: "mid",
                overallHistory: [62, 62, 71, 74]
            },
            {
                id: 14,
                name: "Yudi Miyashiro",
                nick: "Ninjakiwi",
                role: "adc",
                overallHistory: [59, 59, 59, 69]
            },
            {
                id: 15,
                name: "Woo Jun Sung",
                nick: "Jojo",
                role: "sup",
                overallHistory: [50, 50, 64, 69]
            },
        ]
    },
    {
        id: 4,
        name: "Kabum",
        shortName: "KBM",
        img: "./team/kabum.png",
        players: [
            {
                id: 16,
                name: "Gyujun Han",
                nick: "Lonely",
                role: "top",
                overallHistory: [73, 73, 83, 90]
            },
            {
                id: 17,
                name: "Artur Scalabrin",
                nick: "Scary",
                role: "jg",
                overallHistory: [61, 61, 65, 73]
            },
            {
                id: 18,
                name: "Cha Hee-min",
                nick: "Yuri",
                role: "mid",
                overallHistory: [82, 82, 82, 80]
            },
            {
                id: 19,
                name: "Igor Lima",
                nick: "Dudstheboy",
                role: "adc",
                overallHistory: [74, 74, 68, 70]
            },
            {
                id: 20,
                name: "Gabriel Scuro",
                nick: "Scuro",
                role: "sup",
                overallHistory: [69, 69, 70, 72]
            },
        ]
    },
    {
        id: 5,
        name: "Keyd",
        shortName: "VKS",
        img: "./team/keyd.png",
        players: [
            {
                id: 21,
                name: "Guilherme Ruiz",
                nick: "Guigo",
                role: "top",
                overallHistory: [75, 75, 75, 73]
            },
            {
                id: 22,
                name: "Hugo Dias",
                nick: "Hugato",
                role: "jg",
                overallHistory: [70, 70, 75, 72]
            },
            {
                id: 23,
                name: "Daniel Ferreira",
                nick: "Grevthar",
                role: "mid",
                overallHistory: [74, 74, 77, 75]
            },
            {
                id: 24,
                name: "Micael Rodrigues",
                nick: "Micao",
                role: "adc",
                overallHistory: [79, 79, 76, 74]
            },
            {
                id: 25,
                name: "Gabriel Donner",
                nick: "Bounty",
                role: "sup",
                overallHistory: [66, 66, 66, 66]
            },
        ]
    },
    {
        id: 6,
        name: "Liberty",
        shortName: "LBR",
        img: "./team/liberty.png",
        players: [
            {
                id: 26,
                name: "Thiago Campos",
                nick: "Kiari",
                role: "top",
                overallHistory: [69, 69, 69, 69]
            },
            {
                id: 27,
                name: "Lucas Miranda",
                nick: "Accez",
                role: "jg",
                overallHistory: [63, 63, 72, 72]
            },
            {
                id: 28,
                name: "Elvis Vergara",
                nick: "Piloto",
                role: "mid",
                overallHistory: [60, 60, 68, 66]
            },
            {
                id: 29,
                name: "Julio Henrique",
                nick: "Juliera",
                role: "adc",
                overallHistory: [70, 70, 75, 71]
            },
            {
                id: 30,
                name: "Alexandre Fernandes",
                nick: "Cavalo",
                role: "sup",
                overallHistory: [72, 72, 72, 67]
            },
        ]
    },
    {
        id: 7,
        name: "Los Grandes",
        shortName: "LOS",
        img: "./team/los grandes.png",
        players: [
            {
                id: 31,
                name: "Taemin Shin",
                nick: "Hirit",
                role: "top",
                overallHistory: [95, 95, 95, 93]
            },
            {
                id: 32,
                name: "Felipe Brombilla",
                nick: "Ranger",
                role: "jg",
                overallHistory: [83, 83, 78, 88]
            },
            {
                id: 33,
                name: "Taehun Kim",
                nick: "Lava",
                role: "mid",
                overallHistory: [96, 96, 91, 92]
            },
            {
                id: 34,
                name: "Lucas Flores",
                nick: "Netuno",
                role: "adc",
                overallHistory: [82, 82, 65, 80]
            },
            {
                id: 35,
                name: "Vinicius Viana",
                nick: "Zay",
                role: "sup",
                overallHistory: [70, 70, 59, 71]
            },
        ]
    },
    {
        id: 8,
        name: "Loud",
        shortName: "LLL",
        img: "./team/loud.png",
        players: [
            {
                id: 36,
                name: "Leonardo Souza",
                nick: "Robo",
                role: "top",
                overallHistory: [95, 95, 93, 85]
            },
            {
                id: 37,
                name: "Park Jong-hoon",
                nick: "Croc",
                role: "jg",
                overallHistory: [92, 92, 92, 86]
            },
            {
                id: 38,
                name: "Thiago Sartori",
                nick: "Tinowns",
                role: "mid",
                overallHistory: [95, 95, 95, 91]
            },
            {
                id: 39,
                name: "Geomsoo Mun",
                nick: "Route",
                role: "adc",
                overallHistory: [91, 91, 94, 89]
            },
            {
                id: 40,
                name: "Denilson Oliveira",
                nick: "Ceos",
                role: "sup",
                overallHistory: [93, 93, 94, 90]
            },
        ]
    },
    {
        id: 9,
        name: "Pain",
        shortName: "PNG",
        img: "./team/pain.png",
        players: [
            {
                id: 41,
                name: "Euiseok Choi",
                nick: "Wizer",
                role: "top",
                overallHistory: [90, 90, 88, 76]
            },
            {
                id: 42,
                name: "Marcos Oliveira",
                nick: "Cariok",
                role: "jg",
                overallHistory: [87, 87, 79, 66]
            },
            {
                id: 43,
                name: "Matheus Miranda",
                nick: "Dynquedo",
                role: "mid",
                overallHistory: [84, 84, 79, 77]
            },
            {
                id: 44,
                name: "Youngnnon Joo",
                nick: "Bvoy",
                role: "adc",
                overallHistory: [92, 92, 91, 83]
            },
            {
                id: 45,
                name: "Yan Neves",
                nick: "Damage",
                role: "sup",
                overallHistory: [81, 81, 79, 68]
            },
        ]
    },
    {
        id: 10,
        name: "Red",
        shortName: "RED",
        img: "./team/red.png",
        players: [
            {
                id: 46,
                name: "Felipe Boal",
                nick: "Boal",
                role: "top",
                overallHistory: [67, 67, 73, 81]
            },
            {
                id: 47,
                name: "Gabriel Lemos",
                nick: "Aegis",
                role: "jg",
                overallHistory: [90, 90, 91, 91]
            },
            {
                id: 48,
                name: "Adriano Perassoli",
                nick: "Avenger",
                role: "mid",
                overallHistory: [65, 65, 80, 83]
            },
            {
                id: 49,
                name: "Alexandre Santos",
                nick: "Titan",
                role: "adc",
                overallHistory: [93, 93, 94, 95]
            },
            {
                id: 50,
                name: "Wonyoung Choi",
                nick: "Kuri",
                role: "sup",
                overallHistory: [82, 82, 88, 91]
            },
        ]
    },
]

class DB {
    static getTeam(id){
        let team = teams.find(team => team.id == id);

        team.players = team.players.map(player => {
            let overallCurrent = player.overallHistory.length - 1;
            player.overall = player.overallHistory[overallCurrent];
            player.team = team.name;
            player.img = `./role/${player.role}.svg`;

            return player;
        });

        team.overall = team.players.reduce((total, player) => total + player.overall, 0)/team.players.length;

        return team;
    }

    static getTeamRanking(){

        // Processamento de Dados
        let teamList = teams.map(team => {
            let overall = team.players.reduce((total, player) => {
                let current = player.overallHistory.length - 1;

                return total + player.overallHistory[current];
            }, 0);

            overall = overall/team.players.length;

            return{
                id: team.id,
                name: team.name,
                img: team.img,
                overall: overall
            }
        });

        // Ordenação
        teamList = teamList.sort((a, b) => b.overall - a.overall);

        return teamList;
    }

    static getPlayerRanking(){
        let playerList = teams.reduce((total, team) => {
            team.players.forEach(player => {
                let currentOverall = player.overallHistory.length - 1;
                player.overall = player.overallHistory[currentOverall];
                player.img = team.img;
                player.team = team.name;

                total.push(player);
            });

            return total;
        }, []);
        
        playerList = playerList.sort((a, b) => b.overall - a.overall);

        return playerList;
    }
}


export default DB;